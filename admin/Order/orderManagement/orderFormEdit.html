<style>
.page-boxs  .tableboxWrapedit{height: 100%;}
.tableInput .input-group-addon>a.btn{margin-right: 0!important;height:29px}
</style>
<link href="../css/pageboxs.css" rel="stylesheet" />
<div class="page-boxs ">   
	<div class="pt-10 form-group pl-15 pull-right pr-10">
			 <a class="btn btn-success"  onclick="addOFAtr()"><i class="fa fa-plus"></i> 新增行</a>
	</div>
	 <!--table-wrap-->
	<div class="tableboxWrap tableboxWrapedit pos-r">		                             
		<table style="white-space: nowrap;text-overflow: ellipsis; overflow: hidden;width: 100%;" class="table table-striped table-bordered table-hover table-checkable order-column table_example dataTable tableInput"
			 id="orderFormeditTab">
			<thead>
				<tr>
					<th style="width: 50px;">
						<!--<label class="mt-checkbox mt-checkbox-single mt-checkbox-outline">
	                            <input type="checkbox" class="group-checkable" data-set="#orderFormeditTab .checkboxes" />
	                            <span></span>
	                        </label>-->
					</th>
					<th style="min-width: 50px;"> 序号 </th>
					<th style="min-width: 50px;"> 主图 </th>
					<th style="min-width: 100px;"> 商品编码 </th>
					<th style="min-width: 100px;"> 商品名称 </th>
					<th style="min-width: 100px;"> 商品规格 </th>
					<th style="min-width: 100px;"> 数量 </th>
					<th style="min-width: 100px;"> 单位 </th>					
					<th style="min-width: 100px;"> 单价 </th>
				    <th style="min-width: 100px;"> 金额小计 </th>
				    <th style="min-width: 100px;"> 操作 </th>
				</tr>
			</thead>
			<tbody>
				<tr class="">
					<td>
						<label class="mt-checkbox mt-checkbox-single mt-checkbox-outline">
	                            <input type="checkbox" class="checkboxes" value="1" />
	                            <span></span>
	                        </label>
					</td>
					<td>01</td>
					<td>
					<!--	<a href="javascript:;"  title="添加子行" >
								<i class="fa fa-plus"></i>
						</a>	-->					
						
					</td>
					<td> 4457575 </td>
					<td> xx </td>
					<td> 订单 </td>
					<td class="p0"> <input type="text" value="2" class="form-control" style=""> </td>
                   	<td class="p0"> <select class="form-control p0">
						            <option>默认仓 </option>
						            <option>Option 2</option>
						            <option>Option 3</option>
						            <option>Option 4</option>
						            <option>Option 5</option>
					     </select>
                   </td>
                   <td class="p0"> <input type="text" value="2" class="form-control" style=""> </td>
                   <td class="p0"> <input type="text" value="2" class="form-control" style=""> </td>				
				   <td class="p0"> <input type="text" value="2" class="form-control" style=""> </td>
				</tr>
			    <tr class="">
					<td>
						<label class="mt-checkbox mt-checkbox-single mt-checkbox-outline">
	                            <input type="checkbox" class="checkboxes" value="1" />
	                            <span></span>
	                        </label>
					</td>
					<td>01</td>
					<td>
						<!--<a href="javascript:;"  title="添加子行" >
								<i class="fa fa-plus"></i>
						</a>-->
						<!--<a href="#">
            	         <img class="target-img" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTYgMTYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDE2IDE2IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8Y2lyY2xlIGZpbGw9IiNGMkY0RjkiIGN4PSI0LjE5MyIgY3k9IjQuNzcxIiByPSIxLjE4OSIvPgoJPHBvbHlnb24gZmlsbD0iI0YyRjRGOSIgcG9pbnRzPSI5LjE4MiwxNi4wMDQgMCw4LjY1NSAwLDE2LjAwNCAJIi8+Cgk8cG9seWdvbiBmaWxsPSIjRjJGNEY5IiBwb2ludHM9IjEyLjgwOSw0LjE4NSA1LjM2MiwxMS42MzUgMTAuODkzLDE2LjAwNCAxNiwxNi4wMDQgMTYsNi42ODkgCSIvPgo8L2c+Cjwvc3ZnPgo=" style="background: rgb(255, 255, 255); border: 1px solid rgb(238, 241, 249); box-sizing: border-box;max-height: 50px;max-width: 50px;">
                        </a>-->    
					</td>
					<td> 4457575 </td>
					<td> xx </td>
					<td class="p0"> 订单 </td>
					<td class="p0"> <input type="text" value="2" class="form-control" style=""> </td>
                   	<td class="p0"> <select class="form-control p0">
						            <option>默认仓 </option>
						            <option> 件</option>
						            <option>个</option>
						            <option>Option 4</option>
						            <option>Option 5</option>
					     </select>
                   </td>
                   <td class="p0"> <input type="text" value="2" class="form-control" style=""> </td>
                   <td class="p0"> <input type="text" value="2" class="form-control" style=""> </td>				
				     <td class="p0"> <input type="text" value="2" class="form-control" style=""> </td>
				</tr>
		
			</tbody>
		</table>
	 <div class="table-footer pr-10">
	   	<div class="tr pt-5">
	    	运费：<span class="">0.00</span>
	    </div>
	     <div class="tr f16 pt-5">
	    	应付金额：<span class="f16 text-danger">0.00</span>
	    </div>
	   </div>
	</div>
    <div class="fixedFOOTER">
		<div class="form-actions" style="line-height: 53px;padding: 0px 20px;box-shadow: 0 0 8px 5px #eee;">	
			<button type="button" class="btn btn-default" id="">取消</button>
			<button type="button" class="btn btn-success" id="">保存</button>
		</div>
    </div>
        	
</div>

<script type="text/javascript">
   $(function(){
  			//可搜索的时间插件
		$(".date-picker").datepicker({
			language: 'zh-CN',
			orientation: "left",
			format: 'yyyy-mm-dd',
			autoclose: true
		});;
 	})
 	var control = $("#areaSelect11");
    // 下拉选择添加搜索功能
    control.select2({
        allowClear: false,
        escapeMarkup: function (m) {
            return m;
        },
        language: {
            noResults: function (params) {
                return "暂无数据";
            }
        }
    });
     //添加新的一行
	var i = 1;

			function addOFAtr() {
				var tds1 = '<td><label class="mt-checkbox mt-checkbox-single mt-checkbox-outline"><input type="checkbox" class="checkboxes" value="1" /><span></span></label></td>'
				var tds2 = '<td>01</td>';
				var tds3 = '<td></td>';
				var tds4 = '<td class="p0" colspan="3"><div class="input-group"><select class="form-control select2-allow-clear select2-hidden-accessible" style="padding: 6px 8px;" id="areaSelecteSP' + i + '" name="dicKey" tabindex="-1" aria-hidden="true"><option value="" disabled="" selected="" style="display:none;">请选择</option><option value="1">白菜</option><option value="2">青菜</option></select></select><span class="input-group-addon p0" style="border:none"><a data-toggle="modal" data-target="#memberModal" class="btn btn-success" data-title="搜索客户" onclick="clickModel(this)" editurl="Order/orderManagement/orderFormAddmodel.html"><i class="fa fa-search"></i>	</a></span></div></td>';

				var tds7 = '<td  class="p0"><input class="form-control" type="text" name="" id="" value="1" /> </td>';
				var tds8 = '<td  class="p0"><input class="form-control" type="text" name="" id="" value="件" /> </td>';
				var tds9 = '<td  class="p0"><input class="form-control" type="text" name="" id="" value="100" /> </td>';
				var tds10 = '<td  class="p0"><input class="form-control" type="text" name="" id="" value="1000" /> </td>';
				var tds11 = '<td  class="p0"><input class="form-control" type="text" name="" id="" value="222" /> </td>';
				var tds = tds1 + tds2 + tds3+ tds4 + tds7 + tds8 + tds9 + tds10 + tds11;
				var tr = '<tr>' + tds + '</tr>';

				$("#orderFormeditTab tbody").append(tr);

				// 下拉选择添加搜索功能
				$("#areaSelecteSP" + i).select2({
					allowClear: false,
					escapeMarkup: function(m) {
						return m;
					},
					language: {
						noResults: function(params) {
							return "暂无数据";
						}
					}
				});

				i++;
			}
</script>
<script type="text/javascript">
var eTable = $('#orderFormeditTab').dataTable({
		"language": {
			"lengthMenu": "每页 _MENU_ 条记录",
			"search": "搜索:",
			"zeroRecords": "没有找到记录",
			"info": "第 _PAGE_ 页 ( 总共 _PAGES_ 页 )",
			"infoEmpty": "无记录",
			"infoFiltered": "(从 _MAX_ 条记录过滤)"
        },
			"bStateSave": true, // save datatable state(pagination, sort, etc) in cookie.
			"dom": '<"top">rt<"bottom"ilp><"clear">',
			"lengthMenu": [
				[5, 15, 20, -1],
				[5, 15, 20, "All"] // change per page values here
			],
			// set the initial value
			"pageLength": 5,
			"pagingType": "bootstrap_full_number",
			"columnDefs": [{ // set default column settings
					'orderable': false,
					'targets': [0]
				},
				{
					"searchable": false,
					"targets": [0]
				},
				{
					"className": "dt-right",
					//"targets": [2]
				}
			],
			      // scroller extension: http://datatables.net/extensions/scroller/
//			            scrollY:        68,
//			            scrollX:        true, 
			"order": [
				[1, "asc"]
			]
		});

  //单选、隔行变色
eTable.on('change', 'tbody tr .checkboxes', function () {
    var checked = jQuery(this).is(":checked");
    $('tbody tr .checkboxes').each(function (index, item) {
        $(this).parents('tr').removeClass("active");
        $(item).prop("checked", false);
    });
    if (checked) {
        $(this).parents('tr').addClass("active");
        $(this).prop("checked", true);
    } else {
        $(this).parents('tr').removeClass("active");
        $(this).prop("checked", false);
    }
});
eTable.on('click', 'tbody tr td:not(".p0")', function () {//部分选，当行高亮==>复选框选            
                var ck = $(this).parents("tr").find("td:first .checkboxes");
                var flag = ck.prop("checked");
                $('tbody tr .checkboxes').each(function (index, item) {
                    $(this).parents('tr').removeClass("active");
                    $(item).prop("checked", false);
                });
                if (!$(this).find('div').hasClass("action-buttons")) {
                    if (flag) {
                        $(this).parents('tr').removeClass("active");
                        ck.prop("checked", false);
                    } else {
                        ck.parents('tr').addClass("active");
                        ck.prop("checked", true);
                    }
                } else {
                    ck.parents('tr').addClass("active");
                    ck.prop("checked", true);
                }
              });



</script>
